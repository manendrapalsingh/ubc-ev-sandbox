{
  "info": {
    "_postman_id": "65d469fe-b469-40f7-b7f9-0479fc855cef",
    "name": "BPP-DEG:EV-Charging-On-Select",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "30848972"
  },
  "item": [
    {
      "name": "on_select",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"context\": {\n    \"version\": \"2.0.0\",\n    \"action\": \"on_select\",\n    \"domain\": \"beckn.one:deg:ev-charging:*\",\n    \"timestamp\": \"2024-01-15T10:30:05Z\",\n    \"message_id\": \"bb9f86db-9a3d-4e9c-8c11-81c8f1a7b901\",\n    \"transaction_id\": \"2b4d69aa-22e4-4c78-9f56-5a7b9e2b2002\",\n    \"bpp_id\": \"bpp.example.com\",\n    \"bpp_uri\": \"https://bpp.example.com\",\n    \"ttl\": \"PT30S\"\n  },\n  \"message\": {\n    \"order\": {\n      \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld\",\n      \"@type\": \"beckn:Order\",\n      \"beckn:id\": \"order-ev-charging-001\",\n      \"beckn:orderStatus\": \"QUOTE_RECEIVED\",\n      \"beckn:orderNumber\": \"ORD-2024-001\",\n      \"beckn:seller\": \"ecopower-charging\",\n      \"beckn:buyer\": \"user-12345\",\n      \"beckn:orderItems\": [\n        {\n          \"beckn:lineId\": \"line-001\",\n          \"beckn:orderedItem\": \"ev-charger-ccs2-001\",\n          \"beckn:quantity\": 2.5,\n          \"beckn:acceptedOffer\": {\n            \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld\",\n            \"@type\": \"beckn:Offer\",\n            \"beckn:id\": \"offer-ccs2-60kw-kwh\",\n            \"beckn:descriptor\": {\n              \"@type\": \"beckn:Descriptor\",\n              \"schema:name\": \"Per-kWh Tariff - CCS2 60kW\"\n            },\n            \"beckn:items\": [\n              \"ev-charger-ccs2-001\"\n            ],\n            \"beckn:price\": {\n              \"currency\": \"INR\",\n              \"value\": 18.0,\n              \"applicableQuantity\": {\n                \"unitText\": \"Kilowatt Hour\",\n                \"unitCode\": \"KWH\",\n                \"unitQuantity\": 1\n              }\n            },\n            \"beckn:validity\": {\n              \"@type\": \"beckn:TimePeriod\",\n              \"schema:startDate\": \"2024-10-01T00:00:00Z\",\n              \"schema:endDate\": \"2025-01-15T23:59:59Z\"\n            },\n            \"beckn:acceptedPaymentMethod\": [\n              \"UPI\",\n              \"Card\",\n              \"Wallet\"\n            ],\n            \"beckn:offerAttributes\": {\n              \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/EvChargingOffer/v1/context.jsonld\",\n              \"@type\": \"ChargingOffer\",\n              \"buyerFinderFee\": {\n                \"feeType\": \"PERCENTAGE\",\n                \"feeValue\": 2.5\n              },\n              \"idleFeePolicy\": \"\\u20b92/min after 10 min post-charge\"\n            }\n          },\n          \"beckn:price\": {\n            \"currency\": \"INR\",\n            \"value\": 45.0,\n            \"applicableQuantity\": {\n              \"unitText\": \"Kilowatt Hour\",\n              \"unitCode\": \"KWH\",\n              \"unitQuantity\": 1\n            }\n          }\n        }\n      ],\n      \"beckn:orderValue\": {\n        \"currency\": \"INR\",\n        \"value\": 128.64,\n        \"components\": [\n          {\n            \"type\": \"UNIT\",\n            \"value\": 100.0,\n            \"currency\": \"INR\",\n            \"description\": \"Base charging session cost (100 INR)\"\n          },\n          {\n            \"type\": \"SURCHARGE\",\n            \"value\": 20.0,\n            \"currency\": \"INR\",\n            \"description\": \"Surge price (20%)\"\n          },\n          {\n            \"type\": \"DISCOUNT\",\n            \"value\": -15.0,\n            \"currency\": \"INR\",\n            \"description\": \"Offer discount (15%)\"\n          },\n          {\n            \"type\": \"FEE\",\n            \"value\": 10.0,\n            \"currency\": \"INR\",\n            \"description\": \"Service fee\"\n          },\n          {\n            \"type\": \"FEE\",\n            \"value\": 13.64,\n            \"currency\": \"INR\",\n            \"description\": \"Overcharge estimation\"\n          }\n        ]\n      },\n      \"beckn:payment\": {\n        \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld\",\n        \"@type\": \"beckn:Payment\",\n        \"beckn:id\": \"payment-123e4567-e89b-12d3-a456-426614174000\",\n        \"beckn:status\": \"NOT_PAID\",\n        \"beckn:amount\": {\n          \"currency\": \"INR\",\n          \"value\": 128.64\n        },\n        \"beckn:paymentURL\": \"https://payments.bluechargenet-aggregator.io/pay?transaction_id=$transaction_id&amount=$amount\",\n        \"beckn:txnRef\": \"TXN-123456789\",\n        \"beckn:beneficiary\": \"BPP\",\n        \"beckn:acceptedPaymentMethod\": [\n          \"BankTransfer\",\n          \"UPI\",\n          \"Wallet\"\n        ]\n      },\n      \"beckn:fulfillment\": {\n        \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/core/v2/context.jsonld\",\n        \"@type\": \"beckn:Fulfillment\",\n        \"beckn:id\": \"fulfillment-charging-001\",\n        \"beckn:mode\": \"RESERVATION\",\n        \"beckn:status\": \"QUOTED\",\n        \"beckn:deliveryAttributes\": {\n          \"@context\": \"https://raw.githubusercontent.com/beckn/protocol-specifications-new/refs/heads/draft/schema/EvChargingSession/v1/context.jsonld\",\n          \"@type\": \"ChargingSession\",\n          \"sessionStatus\": \"PENDING\",\n          \"authorizationMode\": \"APP_QR\",\n          \"authorizationOtpHint\": \"Scan QR code at charging station\",\n          \"connectorType\": \"CCS2\",\n          \"maxPowerKW\": 60,\n          \"reservationId\": \"RESV-984532\",\n          \"gracePeriodMinutes\": 10,\n          \"trackingId\": \"TRK-984532\",\n          \"trackingUrl\": \"https://cpo.example.org/session/RESV-984532\",\n          \"trackingStatus\": \"ACTIVE\"\n        }\n      }\n    }\n  }\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{on_select_url}}",
          "host": [
            "{{on_select_url}}"
          ],
          "path": []
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}
