apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "onix-api-monolithic.fullname" . }}-{{ .Values.component }}-config
  labels:
    {{- include "onix-api-monolithic.labels" . | nindent 4 }}
    component: {{ .Values.component }}
data:
  {{- if eq .Values.component "bap" }}
  bap_caller_routing.yaml: |
{{ .Values.config.routing.caller | indent 4 }}
  bap_receiver_routing.yaml: |
{{ .Values.config.routing.receiver | indent 4 }}
  {{- else }}
  bpp_caller_routing.yaml: |
{{ .Values.config.routing.caller | indent 4 }}
  bpp_receiver_routing.yaml: |
{{ .Values.config.routing.receiver | indent 4 }}
  {{- end }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "onix-api-monolithic.fullname" . }}-{{ .Values.component }}-adapter
  labels:
    {{- include "onix-api-monolithic.labels" . | nindent 4 }}
    component: {{ .Values.component }}
data:
  adapter.yaml: |
{{ .Values.config.adapter | indent 4 }}
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "onix-api-monolithic.fullname" . }}-schemas
  labels:
    {{- include "onix-api-monolithic.labels" . | nindent 4 }}
data:
  # Note: In production, you may want to use a PersistentVolume or initContainer
  # to populate schemas from your schemas directory
  # For now, this is a placeholder - you'll need to populate it with actual schema files
  .gitkeep: ""

